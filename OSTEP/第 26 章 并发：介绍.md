线程和进程的区别：线程**共享地址空间**

线程和进程上下文切换的区别：线程切换不需要改变地址空间，即不需要更换页表

* 每个线程都有一个独立的栈

* 临界区是访问共享变量（或更一般地说，共享资源）的代码片段，一定不能由多个线程同时执行，否则会产生**竞态条件（race condition）**
* 竞态条件（race condition）出现在多个执行线程大致同时进入临界区时，它们都试图更新共享 的数据结构，导致了令人惊讶的（也许是不希望的）结果。

* 为了避免这些问题，线程应该使用某种互斥（mutual exclusion）原语。这样做可以保证只有一 个线程进入临界区，从而避免出现竞态，并产生确定的程序输出。

**原子操作：“全部或没有”**