# 5.1 用单台虚拟主机实现多个域名

* 在相同的 IP 地址下，由于虚拟主机可以寄存多个不同主机名和域名 的 Web 网站，因此在发送 HTTP 请求时，必须在 Host 首部内完整指 定主机名或域名的 URI。

# 5.2 通信数据转发程序 ：代理、网关、隧 道

## 5.2.1 代理

* 接收客户端发送的请求后转发给其他服务器。代理不改变请求 URI，会直接发送给前方持有资源的目标服务 器。

<img src="D:\学习文件\学习笔记\图解http\笔记图片\代理.jpg" style="zoom:80%;" />

缓存代理：

代理转发响应时，缓存代理（Caching Proxy）会预先将资源的副本 （缓存）保存在代理服务器上。当代理再次接收到对相同资源的请求时，就可以不从源服务器那里获 取资源，而是将前缓存的资源作为响应返回。

透明代理：

转发请求或响应时，不对报文做任何加工的代理类型被称为透明代理 （Transparent Proxy）。反之，对报文内容进行加工的代理被称为非 透明代理。

## 5.2.2 网关

网关能使通信线路上的服务器提 供非 HTTP 协议服务。（安全！）

## 5.2.3 隧道

* 建立起一条与其他服务器的通信线路，届时使用 SSL等 加密手段进行通信
* 目的是确保客户端能与服务器进行安全的通信。
* 隧道本身不会去解析 HTTP 请求。
* 隧道会在通信双方断开连接时结束。

# 5.3 保存资源的缓存

* **缓存是指代理服务器或客户端本地磁盘内保存的资源副本。**

* **利用缓存可减少对源服务器的访问，因此也就节省了通信流量和通信时间。**

<img src="D:\学习文件\学习笔记\图解http\笔记图片\缓存服务器.jpg" style="zoom:80%;" />

## 5.3.1 缓存的有效期限

## 5.3.2 客户端的缓存

缓存不仅可以存在于缓存服务器内，还可以存在客户端浏览器中。以 Internet Explorer 程序为例，把客户端缓存称为临时网络文件 （Temporary Internet File）。

**和缓存服务器相同的一点是，当判定缓存过期后，会向源服务器确认资源的有效性。若判断浏览器缓存失效，浏览器会再次请求新资源。**

