## 3.2 String类型：可变长的字符序列

#### 初始化：

​	String s1(n,'c');//s1中将有n个c

​	String s2(s1); //s2是s1的副本

​	String s2 = s1;//等同于上一个

​	String s3("value") 和 String s3 = "value"都是字面值”value“的副本

 * 使用 = 初始化变量是**拷贝初始化**，不用等号**直接初始化**
 * **String对象会自动忽略开头的空白**（空格符，制表符，换行符等），从第一个真正字符读到下一个空白
 * 用getline可以读取一整行，包括空白符，触发getline的换行符被丢掉了。
 * String的size函数返回的是**string::size_type类型，一个无符号类型**。
 * 用 + 号混合字符串字面值和string对象时，保证**+两侧运算对象至少有一个是string**
 * **字符串字面值并不是标准库类型String的对象**

遍历string对象每个字符：for(declaration : expression)

> C++中规定只有左侧运算对象为真时才会检查右侧运算对象的情况，例如&&

## 3.3 vector类型：某种给定对象类型的可变长序列

vector是类模板，要提供额外信息指定模板到底实例化成什么样的类，eg: vector <int>

* 因为引用不是对象，所以不存在包含引用的vector

#### 定义和初始化

> 初始化中的例外：
>
> 1. 拷贝初始化只能提供一个初始值
> 2. 提供的若是类内初始值，只能拷贝初始化或者花括号
> 3. 提供的是初始元素列表，只能把元素都放到花括号进行列表初始化

值初始化：只提供元素数量略去元素值，每个元素都创建一个值初始化的元素初值，int就是0，string就是空string

**范围for循环内不应改变其所遍历序列的大小，即不应在for内push_back**

* 不能用下标形式添加元素，只能对已存在的元素执行下标操作

## 3.4 迭代器

有迭代器的类型同时拥有返回迭代器的成员：

begin：返回指向第一个元素的迭代器

end：返指向容器**尾元素的下一位置**的迭代器，称为**尾后迭代器**

begin和end返回具体类型由对象是否为常量决定，常量则为const_iterator，不是常量就是iterator

cbegin和cend则不管类型，全部返回const_iterator

* 容器为空，begin和end返回同一个迭代器，都是尾后迭代器
* 和指针类似，也能通过解引用迭代器获取它所指示的元素

* **凡是使用了迭代器的循环体都不要向迭代器所属的容器添加元素**

## 3.5 数组

* **数组的维度必须是常量表达式**
* 和vector一样，数组元素应为对象，所以不存在引用的数组
* 字符串字面值结尾有一个空字符，所以用字符串初始化字符数组要保证数组大小比字符串长度多1至少。
* 理解数组声明含义，最好从数组名字开始从内向外阅读
* 数组也有begin和end，但是用法是把数组作为参数传入。
* **指针运算同样适用于空指针**，允许给空指针加上或减去一个值为0的整型常量表达式，两个空指针相减结果为0.

> 数组下标和标准库类型vector和string下标有何不同？
>
> 标准库类型的下标**必须是无符号类型**，而数组下标不是无符号类型，可以是负号。

* 传入C风格字符串的函数（strlen,strcmp,strcat,strcpy）的指针必须指向以空字符作为结尾的数组。

与旧代码的接口：

混用C风格字符串和string对象

* 允许使用以空字符为结尾的字符数组初始化string对象或者为string对象赋值
* string加法中允许一个对象是空字符结尾字符数组，string的复合赋值运算中允许空字符结尾字符数组作为右侧运算对象
* **不能用string对象初始化char * 但是可以用c_str函数实现转换，将string转换成const char***

使用数组初始化vector对象

eg：

int int_arr[] = {0,1,2,3,4,5};

vector<int> ivec(begin(int_arr),end(int_arr));

## 3.6 多维数组

多维数组用c++11新标准遍历，要注意外层必须用引用类型！否则会将外层每个元素自动转换成指向数组内首元素的指针，内层循环就不合法了

eg：

```
int ia[2][3];
for (auto row : ia)
	for(auto col : row)//不合法
//正确用法：
for(auto &row : ia)
	for(auto col : row)
//若是要修改元素，则内层循环也要用引用类型
```

* 总结：要使用范围 for 语句处理多维数组，处理最内层循环，其他所有循环的控制变量都应该是引用类型