# 分布式理论基础

## CAP理论

![image-20230131104439658](笔记图片/image-20230131104439658.png)

## ACID理论

![](笔记图片/image-20230131104956000.png)

## BASE理论

![image-20230131105615667](笔记图片/image-20230131105615667.png)

# 分布式事务

## 二阶段提交

![image-20230131110650509](笔记图片/image-20230131110650509.png)

## 三阶段提交

![image-20230131111545209](笔记图片/image-20230131111545209.png)

## MVCC

* 悲观锁：操作数据的时候**直接把数据锁住**，直到操作完成才释放锁；上锁期间别人不能操作数据
* 乐观锁：**不会上锁**，只是在执行更新的时候判断别人是否修改数据，只有冲突的时候才放弃操作

![image-20230131112057543](笔记图片/image-20230131112057543.png)

## 共识协议

### Raft协议

![image-20230131113026970](笔记图片/image-20230131113026970.png)

![image-20230131113235316](笔记图片/image-20230131113235316.png)

![image-20230131114007487](笔记图片/image-20230131114007487.png)

### Paxos协议

![image-20230131114511572](笔记图片/image-20230131114511572.png)

## MapReduce

![image-20230131114901065](笔记图片/image-20230131114901065.png)

# 分布式KV

